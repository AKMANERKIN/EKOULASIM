<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Yapı AŞ - Fiyat Hesaplama Sistemi </title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
         {
            body { -webkit-print-color-adjust: exact; }
        }
        .result-card {
            transition: all 0.3s ease;
        }
        .result-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .temmuz-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 16px;
            letter-spacing: 1px;
            border: 1px solid rgba(255,255,255,0.3);
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-600 to-blue-800 text-white py-8 shadow-lg relative">
        <div class="temmuz-badge">TEMMUZ KDV DAHİL </div>
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-4xl font-bold mb-4">
                <i class="fas fa-calculator mr-3"></i>
                Smart Yapı AŞ
            </h1>
            <p class="text-xl text-blue-100">Laminat Parke Fiyat Hesaplama Sistemi</p>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8">
        <!-- Main Calculator Form -->
        <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">
                <i class="fas fa-home mr-2 text-blue-600"></i>
                Fiyat Hesaplama
            </h2>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                    <!-- Product Group Selection -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ürün Grubu</label>
                        <select id="productGroup" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" onchange="updateSubGroups()">
                            <option value="">Ürün Grubu Seçiniz</option>
                            <option value="terra-click">TERRA CLICK</option>
                            <option value="terra-click-derzli">TERRA CLICK DERZLİ</option>
                            <option value="vario-click">VARIO CLICK</option>
                            <option value="agt">AGT</option>
                        </select>
                    </div>

                    <!-- Sub Group Selection -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Alt Grup</label>
                        <select id="subGroup" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            <option value="">Önce Ürün Grubu Seçiniz</option>
                        </select>
                    </div>

                    <!-- Area Input -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Alan (m²)</label>
                        <input type="number" id="area" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Kaplanacak alan (m²)" step="0.01" min="0">
                    </div>

                    <!-- Discount Input -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">İskonto (%)</label>
                        <input type="number" id="discount" class="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="İskonto yüzdesi" step="0.01" min="0" max="100" value="0">
                    </div>
                </div>

                <div>
                    <!-- Calculate Button -->
                    <div class="mb-6">
                        <button onclick="calculatePrice()" class="w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 px-6 rounded-md hover:from-blue-700 hover:to-blue-800 transition duration-300 text-lg font-semibold">
                            <i class="fas fa-calculator mr-2"></i>
                            Fiyat Hesapla
                        </button>
                    </div>

                    <!-- Product Info Display -->
                    <div id="productInfo" class="bg-gray-50 p-4 rounded-md mb-6 hidden">
                        <h3 class="font-semibold text-gray-800 mb-2">Ürün Bilgileri:</h3>
                        <div id="productDetails" class="text-sm text-gray-600"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results" class="hidden">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">
                <i class="fas fa-receipt mr-2 text-green-600"></i>
                Hesaplama Sonuçları
            </h2>
            
            <!-- Package Calculation Results -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Paket Hesaplama</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-blue-50 p-4 rounded-md">
                        <p class="text-sm text-gray-600">Girilen Alan</p>
                        <p id="inputArea" class="text-xl font-bold text-blue-600"></p>
                    </div>
                    <div class="bg-green-50 p-4 rounded-md">
                        <p class="text-sm text-gray-600">Gerekli Paket Sayısı</p>
                        <p id="packageCount" class="text-xl font-bold text-green-600"></p>
                    </div>
                    <div class="bg-yellow-50 p-4 rounded-md">
                        <p class="text-sm text-gray-600">Gerçek Alan (Paket Bazlı)</p>
                        <p id="actualArea" class="text-xl font-bold text-yellow-600"></p>
                    </div>
                </div>
            </div>

            <!-- Price Results -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Cash Payment -->
                <div class="result-card bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="bg-green-500 text-white p-4">
                        <h3 class="text-lg font-semibold">
                            <i class="fas fa-money-bill-wave mr-2"></i>
                            Nakit Ödeme
                        </h3>
                    </div>
                    <div class="p-6">
                        <div class="mb-4">
                            <p class="text-sm text-gray-600">Birim Fiyat (m²)</p>
                            <p id="cashUnitPrice" class="text-lg font-semibold text-green-600"></p>
                        </div>
                        <div class="mb-4">
                            <p class="text-sm text-gray-600">Toplam Fiyat</p>
                            <p id="cashTotalPrice" class="text-2xl font-bold text-green-600"></p>
                        </div>
                        <div id="cashDiscountInfo" class="text-sm text-gray-500 hidden">
                            <p>İskonto Öncesi: <span id="cashOriginalPrice"></span></p>
                            <p>İskonto Tutarı: <span id="cashDiscountAmount"></span></p>
                        </div>
                    </div>
                </div>

                <!-- Single Payment Card -->
                <div class="result-card bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="bg-blue-500 text-white p-4">
                        <h3 class="text-lg font-semibold">
                            <i class="fas fa-credit-card mr-2"></i>
                            Tek Çekim Kart
                        </h3>
                    </div>
                    <div class="p-6">
                        <div class="mb-4">
                            <p class="text-sm text-gray-600">Birim Fiyat (m²)</p>
                            <p id="cardUnitPrice" class="text-lg font-semibold text-blue-600"></p>
                        </div>
                        <div class="mb-4">
                            <p class="text-sm text-gray-600">Toplam Fiyat</p>
                            <p id="cardTotalPrice" class="text-2xl font-bold text-blue-600"></p>
                        </div>
                        <div id="cardDiscountInfo" class="text-sm text-gray-500 hidden">
                            <p>İskonto Öncesi: <span id="cardOriginalPrice"></span></p>
                            <p>İskonto Tutarı: <span id="cardDiscountAmount"></span></p>
                        </div>
                    </div>
                </div>

                <!-- Installment Payment -->
                <div class="result-card bg-white rounded-lg shadow-lg overflow-hidden">
                    <div class="bg-purple-500 text-white p-4">
                        <h3 class="text-lg font-semibold">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            Taksitli Ödeme
                        </h3>
                    </div>
                    <div class="p-6">
                        <div class="mb-4">
                            <p class="text-sm text-gray-600">Birim Fiyat (m²)</p>
                            <p id="installmentUnitPrice" class="text-lg font-semibold text-purple-600"></p>
                        </div>
                        <div class="mb-4">
                            <p class="text-sm text-gray-600">Toplam Fiyat</p>
                            <p id="installmentTotalPrice" class="text-2xl font-bold text-purple-600"></p>
                        </div>
                        <div id="installmentDiscountInfo" class="text-sm text-gray-500 hidden">
                            <p>İskonto Öncesi: <span id="installmentOriginalPrice"></span></p>
                            <p>İskonto Tutarı: <span id="installmentDiscountAmount"></span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 mt-12">
        <div class="container mx-auto px-6 text-center">
            <p class="text-lg font-semibold mb-2"></p>
            <p class="text-gray-400">Telif Hakkı © 2025 Oym.Group Baran Oyman Ltd. Tüm Hakları Saklıdır.</p>
        </div>
    </footer>

    <script>
        // Product data structure
        const products = {
            'terra-click': {
                name: 'TERRA CLICK',
                subGroups: {
                    'terra-dersiz': {
                        name: 'TERRA DERSİZ',
                        packageSize: 2.3071,
                        prices: { cash: 235, card: 245, installment: 265 }
                    }
                }
            },
            'terra-click-derzli': {
                name: 'TERRA CLICK DERZLİ',
                subGroups: {
                    'terra-derzli': {
                        name: 'TERRA DERZLİ',
                        packageSize: 2.3237,
                        prices: { cash: 260, card: 270, installment: 295 }
                    }
                }
            },
            'vario-click': {
                name: 'VARIO CLICK',
                subGroups: {
                    'varioclic-standart': {
                        name: 'VARIOCLIC STANDART',
                        packageSize: 2.3237,
                        prices: { cash: 261, card: 272, installment: 295 }
                    },
                    'varioclic-5g-exclusive': {
                        name: 'VARIOCLIC 5 G EXCLUSIVE',
                        packageSize: 2.3237,
                        prices: { cash: 290, card: 302, installment: 327 }
                    },
                    'varioclic-prem-med': {
                        name: 'VARIOCLIC PREM. MED.',
                        packageSize: 1.6216,
                        prices: { cash: 350, card: 365, installment: 395 }
                    },
                    'varioclic-prem-plus-8mm': {
                        name: 'VARIOCLIC PREM PLUS 8 MM',
                        packageSize: 1.9179,
                        prices: { cash: 340, card: 355, installment: 385 }
                    },
                    'varioclic-prem-plus-12mm': {
                        name: 'VARIOCLIC PREM. PLUS 12 MM',
                        packageSize: 1.2786,
                        prices: { cash: 435, card: 455, installment: 490 }
                    },
                    'varioclic-prem-ext-l': {
                        name: 'VARIOCLIC PREM.EXT.L',
                        packageSize: 2.193,
                        prices: { cash: 355, card: 370, installment: 400 }
                    },
                    'varioclic-nat-sense': {
                        name: 'VARIOCLIC NAT SENSE',
                        packageSize: 2.3237,
                        prices: { cash: 295, card: 307, installment: 335 }
                    },
                    'varioclic-vista': {
                        name: 'VARIOCLIC VISTA',
                        packageSize: 2.3237,
                        prices: { cash: 299, card: 315, installment: 340 }
                    },
                    'varioclic-stilo': {
                        name: 'VARIOCLIC STILO',
                        packageSize: 2.3237,
                        prices: { cash: 305, card: 320, installment: 345 }
                    },
                    'varioclic-aqua-special': {
                        name: 'VARIOCLIC AQUA SPECIAL',
                        packageSize: 2.3502,
                        prices: { cash: 365, card: 380, installment: 415 }
                    }
                }
            },
            'agt': {
                name: 'AGT',
                subGroups: {
                    'bella': {
                        name: 'BELLA',
                        packageSize: 2.292,
                        prices: { cash: 240, card: 250, installment: 270 }
                    },
                    'natura-line': {
                        name: 'NATURA LINE',
                        packageSize: 1.8336,
                        prices: { cash: 270, card: 280, installment: 305 }
                    },
                    'effect': {
                        name: 'EFFECT',
                        packageSize: 1.8336,
                        prices: { cash: 290, card: 300, installment: 330 }
                    }
                }
            }
        };

        function updateSubGroups() {
            const productGroup = document.getElementById('productGroup').value;
            const subGroupSelect = document.getElementById('subGroup');
            
            // Clear previous options
            subGroupSelect.innerHTML = '';
            
            if (productGroup && products[productGroup]) {
                const subGroups = products[productGroup].subGroups;
                
                // Add default option
                subGroupSelect.innerHTML = '<option value="">Alt Grup Seçiniz</option>';
                
                // Add sub group options
                Object.keys(subGroups).forEach(key => {
                    const option = document.createElement('option');
                    option.value = key;
                    option.textContent = subGroups[key].name;
                    subGroupSelect.appendChild(option);
                });
                
                // Show product info
                showProductInfo();
            } else {
                subGroupSelect.innerHTML = '<option value="">Önce Ürün Grubu Seçiniz</option>';
                hideProductInfo();
            }
        }

        function showProductInfo() {
            const productGroup = document.getElementById('productGroup').value;
            const subGroup = document.getElementById('subGroup').value;
            
            if (productGroup && products[productGroup] && subGroup && products[productGroup].subGroups[subGroup]) {
                const product = products[productGroup].subGroups[subGroup];
                const productInfo = document.getElementById('productInfo');
                const productDetails = document.getElementById('productDetails');
                
                productDetails.innerHTML = `
                    <p><strong>Ürün:</strong> ${products[productGroup].name} - ${product.name}</p>
                    <p><strong>Paket Boyutu:</strong> ${product.packageSize} m²</p>
                    <p><strong>Nakit:</strong> ${product.prices.cash} ₺/m²</p>
                    <p><strong>Tek Çekim:</strong> ${product.prices.card} ₺/m²</p>
                    <p><strong>Taksit:</strong> ${product.prices.installment} ₺/m²</p>
                `;
                
                productInfo.classList.remove('hidden');
            } else {
                hideProductInfo();
            }
        }

        function hideProductInfo() {
            document.getElementById('productInfo').classList.add('hidden');
        }

        // Add event listener for sub group change
        document.getElementById('subGroup').addEventListener('change', showProductInfo);

        function calculatePrice() {
            const productGroup = document.getElementById('productGroup').value;
            const subGroup = document.getElementById('subGroup').value;
            const area = parseFloat(document.getElementById('area').value);
            const discount = parseFloat(document.getElementById('discount').value) || 0;
            
            // Validation
            if (!productGroup || !subGroup || !area || area <= 0) {
                alert('Lütfen tüm alanları doldurun ve geçerli bir alan giriniz.');
                return;
            }
            
            if (!products[productGroup] || !products[productGroup].subGroups[subGroup]) {
                alert('Geçersiz ürün seçimi.');
                return;
            }
            
            const product = products[productGroup].subGroups[subGroup];
            
            // Calculate packages needed (round up)
            const packagesNeeded = Math.ceil(area / product.packageSize);
            const actualArea = packagesNeeded * product.packageSize;
            
            // Calculate prices
            const cashPrice = actualArea * product.prices.cash;
            const cardPrice = actualArea * product.prices.card;
            const installmentPrice = actualArea * product.prices.installment;
            
            // Apply discount
            const cashFinalPrice = cashPrice * (1 - discount / 100);
            const cardFinalPrice = cardPrice * (1 - discount / 100);
            const installmentFinalPrice = installmentPrice * (1 - discount / 100);
            
            // Display results
            displayResults(area, packagesNeeded, actualArea, product, cashPrice, cardPrice, installmentPrice, cashFinalPrice, cardFinalPrice, installmentFinalPrice, discount);
        }

        function displayResults(inputArea, packageCount, actualArea, product, cashOriginal, cardOriginal, installmentOriginal, cashFinal, cardFinal, installmentFinal, discount) {
            // Show results section
            document.getElementById('results').classList.remove('hidden');
            
            // Package calculation results
            document.getElementById('inputArea').textContent = `${inputArea.toFixed(2)} m²`;
            document.getElementById('packageCount').textContent = `${packageCount} Paket`;
            document.getElementById('actualArea').textContent = `${actualArea.toFixed(4)} m²`;
            
            // Unit prices
            document.getElementById('cashUnitPrice').textContent = `${product.prices.cash} ₺/m²`;
            document.getElementById('cardUnitPrice').textContent = `${product.prices.card} ₺/m²`;
            document.getElementById('installmentUnitPrice').textContent = `${product.prices.installment} ₺/m²`;
            
            // Final prices
            document.getElementById('cashTotalPrice').textContent = `${cashFinal.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
            document.getElementById('cardTotalPrice').textContent = `${cardFinal.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
            document.getElementById('installmentTotalPrice').textContent = `${installmentFinal.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
            
            // Discount information
            if (discount > 0) {
                // Cash
                document.getElementById('cashOriginalPrice').textContent = `${cashOriginal.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
                document.getElementById('cashDiscountAmount').textContent = `${(cashOriginal - cashFinal).toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
                document.getElementById('cashDiscountInfo').classList.remove('hidden');
                
                // Card
                document.getElementById('cardOriginalPrice').textContent = `${cardOriginal.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
                document.getElementById('cardDiscountAmount').textContent = `${(cardOriginal - cardFinal).toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
                document.getElementById('cardDiscountInfo').classList.remove('hidden');
                
                // Installment
                document.getElementById('installmentOriginalPrice').textContent = `${installmentOriginal.toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
                document.getElementById('installmentDiscountAmount').textContent = `${(installmentOriginal - installmentFinal).toLocaleString('tr-TR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} ₺`;
                document.getElementById('installmentDiscountInfo').classList.remove('hidden');
            } else {
                document.getElementById('cashDiscountInfo').classList.add('hidden');
                document.getElementById('cardDiscountInfo').classList.add('hidden');
                document.getElementById('installmentDiscountInfo').classList.add('hidden');
            }
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateSubGroups();
        });
    </script>
</body>
</html>
